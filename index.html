<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{margin:0;background:black;overflow:hidden}
#line{
position:absolute;
bottom:120px;
height:5px;
width:100%;
background:yellow;
}
.note{
position:absolute;
width:80%;
height:20px;
left:10%;
background:cyan;
}
</style>
</head>

<body>

<div id="line"></div>

<script>

const URL="https://script.google.com/macros/s/AKfycbyxYEOHVtVb1axr6og0LcFPkINM2wC4t8d_aPpwnm0QQZ-Bt4UHxnIAyQMxarSdTqVM/exec"

let score=0
let notes=[]

function spawn(){
let n=document.createElement("div")
n.className="note"
n.style.top="0px"
document.body.appendChild(n)
notes.push(n)
}

setInterval(spawn,900)

setInterval(()=>{

notes.forEach((n,i)=>{
let y=parseInt(n.style.top)
y+=8
n.style.top=y+"px"

if(y>window.innerHeight){
n.remove()
notes.splice(i,1)
}
})

},16)

document.body.addEventListener("touchstart",e=>{

notes.forEach((n,i)=>{
let y=n.getBoundingClientRect().top

if(Math.abs(y-(window.innerHeight-120))<120){
score+=10
n.remove()
notes.splice(i,1)
}
})

})

setTimeout(()=>{
let name=prompt("名前")
fetch(URL,{
method:"POST",
body:JSON.stringify({
Name:name,
Score:score,
Game:"リズム",
Date:new Date().toLocaleString()
})
})
},30000)

</script>
</body>
</html>
